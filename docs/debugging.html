<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Razor Components debugging </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Razor Components debugging ">
    <meta name="generator" content="docfx 2.40.7.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="razor-components/debugging">
<h1 id="razor-components-debugging">Razor Components debugging</h1>

<p><a href="https://github.com/danroth27">Daniel Roth</a></p>
<div class="NOTE"><h5>Note</h5><p>ASP.NET Core Razor Components is supported in ASP.NET Core 3.0 or later.</p>
<p>Blazor is an unsupported experimental web framework that shouldn&#39;t be used for production workloads at this time.</p>
</div>
<p>Razor Components has some <em>very early</em> support for debugging client-side Blazor apps running on WebAssembly in Chrome. While this initial debugging support is very limited and unpolished, it shows the basic debugging infrastructure coming together.</p>
<p>To debug a client-side Blazor app in Chrome:</p>
<ul>
<li>Build a Blazor app in <code>Debug</code> configuration (the default for non-published apps).</li>
<li>Run the Blazor app in Chrome (version 70 or later).</li>
<li>With the keyboard focus on the app (not in the dev tools panel, which you should probably close for a less confusing debugging experience), select the following Blazor-specific keyboard shortcut:<ul>
<li><code>Shift+Alt+D</code> on Windows/Linux</li>
<li><code>Shift+Cmd+D</code> on macOS</li>
</ul>
</li>
</ul>
<p>Run Chrome with remote debugging enabled to debug the Blazor app. If remote debugging is disabled, an error page is generated by Chrome. The error page contains instructions for running Chrome with the debugging port open so that the Blazor debugging proxy can connect to the app. <em>Close all Chrome instances</em> and restart Chrome as instructed.</p>
<p><img src="https://user-images.githubusercontent.com/1874516/43123091-01ec0796-8ed8-11e8-844c-23b4e6e9d069.png" alt="Blazor debugging error page"></p>
<p>Once Chrome is running with remote debugging enabled, the debugging keyboard shortcut opens a new debugger tab. After a moment, the <em>Sources</em> tab shows a list of the .NET assemblies in the app. Expand each assembly and find the <em>.cs</em>/<em>.cshtml</em> source files available for debugging. Set breakpoints, switch back to the app&#39;s tab, and the breakpoints are hit. After a breakpoint is hit, single-step (<code>F10</code>) or resume (<code>F8</code>) normally.</p>
<p><img src="https://user-images.githubusercontent.com/1874516/43123060-efb0b3b0-8ed7-11e8-9ea5-97aa34247a0b.png" alt="Blazor debugging"></p>
<p>Blazor provides a debugging proxy that implements the <a href="https://chromedevtools.github.io/devtools-protocol/">Chrome DevTools Protocol</a> and augments the protocol with .NET-specific information. When debugging keyboard shortcut is pressed, Blazor points the Chrome DevTools at the proxy. The proxy connects to the browser window you&#39;re seeking to debug (hence the need to enable remote debugging).</p>
<p>You might be wondering why we don&#39;t just use browser source maps. Source maps allow the browser to map compiled files back to their original source files. However, Blazor does not map C# directly to JS/WASM (at least not yet). Instead, Blazor does IL interpretation within the browser, so source maps aren&#39;t relevant.</p>
<p>Note that the debugger capabilities are <strong>very limited</strong>. You can currently only:</p>
<ul>
<li>Set and remove breakpoints.</li>
<li>Single-step through the code or resume (<code>F8</code>).</li>
<li>In the <em>Locals</em> display, observe the values of any local variables of type <code>int</code>, <code>string</code>, and <code>bool</code>.</li>
<li>See the call stack, including call chains that go from JavaScript into .NET and from .NET to JavaScript.</li>
</ul>
<p>You <em>can&#39;t</em>:</p>
<ul>
<li>Observe the values of any locals that aren&#39;t an <code>int</code>, <code>string</code>, or <code>bool</code>.</li>
<li>Observe the values of any class properties or fields.</li>
<li>Hover over variables to see their values</li>
<li>Evaluate expressions in the console.</li>
<li>Step across async calls.</li>
<li>Perform most other ordinary debugging scenarios.</li>
</ul>
<p>Development of further debugging scenarios is an on-going focus of the engineering team.</p>
<h2 id="troubleshooting-tip">Troubleshooting tip</h2>
<p>If you&#39;re running into errors, the following tip may help:</p>
<p>In the <strong>debugger</strong> tab, open the developer tools in your browser. In the console, execute <code>localStorage.clear()</code> to remove any breakpoints.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/aspnet/Blazor.Docs/blob/master/docs/debugging.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
